module dev.whyneet.`medium-clone`.api

import ".../conf/Common.pkl"

mongodb = new Common.DbConnectionProperties {
  host = "localhost"
  port = 27017

  auth = new Common.DbConnectionAuthProperties {
    username = "root"
    password = "root"
  }
}

redis = new Common.RedisServices {
  caching = new Common.DbConnectionProperties {
    host = "localhost"
    port = 6379

    auth = new Common.DbConnectionAuthProperties {
      username = "default"
      password = "root"
    }
  }

  queue = new Common.DbConnectionProperties {
    host = "localhost"
    port = 6378

    auth = new Common.DbConnectionAuthProperties {
      username = "default"
      password = "root"
    }
  }
}

tokens = new Common.TokensProperties {
  accessToken = Common.tokenPropertiesFactory.create("access_token_secret", 2.min)

  refreshToken = Common.tokenPropertiesFactory.create("refresh_token_secret", 120.d)

  // default expiration for an API token is 120 days
  apiToken = Common.tokenPropertiesFactory.create("api_token_secret", 120.d)
}